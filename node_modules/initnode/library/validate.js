/*********************************************************************************
 * InitNode 1.0 nodejs框架 
 * 文件说明：验证类
 *-------------------------------------------------------------------------------
 * 版权所有: CopyRight By initphp.com
 * 您可以自由使用该源码，但是在使用过程中，请保留作者信息。尊重他人劳动成果就是尊重自己
 *-------------------------------------------------------------------------------
 * $Author:zhuli
 * $Dtime:2012-9-9
***********************************************************************************/
var validate = function () {
	
	var reg = {
		'email' : /^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/,
		'url' : /^[a-zA-z]+:\/\/[^s]*/,
		'card' : /^(\d{6})(18|19|20)?(\d{2})([01]\d)([0123]\d)(\d{3})(\d|X)?$/,
		'qq' : /[1-9][0-9]{4,}/,
		'account' : /^[a-zA-Z][a-zA-Z0-9_]{4,15}$/,
		'zipcode' : /^[a-zA-Z0-9 ]{3,12}$/,
		'number_letter' : /^[0-9a-zA-Z\_]+$/,
		'money' : /^[0-9]+[\.][0-9]{0,3}$/,
		'ip' : /^(\d+)\.(\d+)\.(\d+)\.(\d+)$/,
		'phone' : /^[1][3][0-9]{9}$/,
		'lower_english' : /^[a-z]+$/,
		'upper_english ' : /^[A-Z]+$/,
		'english' :  /^[A-Za-z]+$/,
		'decimal' : /^[-]{0,1}(\d+)[\.]+(\d+)$/,
		'number' : /^[0-9]+$/
	};
	
	/*	
	 *	验证数据格式
	 */
	this.check = function (value, type) {
		if (reg[type]) {
			return value.match(reg[type]);
		} else {
			return false;	
		}
	};
		
	/*	
	 *	验证字符串长度
	 */
	this.checkLength = function (value, min, max) {
		var len = value.length;
		if (len < min || len > max) {
			return false;
		}
		return true;
	};
	
	/*	
	 *	验证是否是数组
	 */
	this.isArray = function(value) {
        return typeof value === 'object' && Object.prototype.toString.call(value) === '[object Array]';
    };
	
	
}

module.exports = validate;
 